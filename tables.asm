arch "arch/null.arch";

scope table: {
	constant RECIP_MAX($1000);
	constant COORD_SHIFT(4);
	constant COORD_SCALE(1 << COORD_SHIFT);
	scope recip: {
		dw 0      //   1/0 - this is just padding
		dw $7fff; // $0001 (as best we can...)
		dw $7fff; // $0002 (closer than 1, at least)
		variable divisor(3);
		while divisor <= RECIP_MAX {
			dw $1'0000 / divisor;
			divisor = divisor + 1;
		}
	}

	scope coord_recip: {
		dw 0      //   1/0
		variable divisor(1);
		while divisor <= RECIP_MAX {
			dw ($1'0000 >> COORD_SHIFT) / divisor;
			divisor = divisor + 1;
		}
	}

	// these tables overlap so they get treated a little funny
	// the brace is just here so you can minimize it in your editor
	{
	sinw:
		dw $00'00, $00'06, $00'0c, $00'12, $00'19, $00'1f, $00'25, $00'2b
		dw $00'31, $00'38, $00'3e, $00'44, $00'4a, $00'50, $00'56, $00'5c
		dw $00'61, $00'67, $00'6d, $00'73, $00'78, $00'7e, $00'83, $00'88
		dw $00'8e, $00'93, $00'98, $00'9d, $00'a2, $00'a7, $00'ab, $00'b0
		dw $00'b5, $00'b9, $00'bd, $00'c1, $00'c5, $00'c9, $00'cd, $00'd1
		dw $00'd4, $00'd8, $00'db, $00'de, $00'e1, $00'e4, $00'e7, $00'ea
		dw $00'ec, $00'ee, $00'f1, $00'f3, $00'f4, $00'f6, $00'f8, $00'f9
		dw $00'fb, $00'fc, $00'fd, $00'fe, $00'fe, $00'ff, $00'ff, $00'ff
	cosw:
		dw $01'00, $00'ff, $00'ff, $00'ff, $00'fe, $00'fe, $00'fd, $00'fc
		dw $00'fb, $00'f9, $00'f8, $00'f6, $00'f4, $00'f3, $00'f1, $00'ee
		dw $00'ec, $00'ea, $00'e7, $00'e4, $00'e1, $00'de, $00'db, $00'd8
		dw $00'd4, $00'd1, $00'cd, $00'c9, $00'c5, $00'c1, $00'bd, $00'b9
		dw $00'b5, $00'b0, $00'ab, $00'a7, $00'a2, $00'9d, $00'98, $00'93
		dw $00'8e, $00'88, $00'83, $00'7e, $00'78, $00'73, $00'6d, $00'67
		dw $00'61, $00'5c, $00'56, $00'50, $00'4a, $00'44, $00'3e, $00'38
		dw $00'31, $00'2b, $00'25, $00'1f, $00'19, $00'12, $00'0c, $00'06
		dw  $00'00, -$00'06, -$00'0c, -$00'12, -$00'19, -$00'1f, -$00'25, -$00'2b
		dw -$00'31, -$00'38, -$00'3e, -$00'44, -$00'4a, -$00'50, -$00'56, -$00'5c
		dw -$00'61, -$00'67, -$00'6d, -$00'73, -$00'78, -$00'7e, -$00'83, -$00'88
		dw -$00'8e, -$00'93, -$00'98, -$00'9d, -$00'a2, -$00'a7, -$00'ab, -$00'b0
		dw -$00'b5, -$00'b9, -$00'bd, -$00'c1, -$00'c5, -$00'c9, -$00'cd, -$00'd1
		dw -$00'd4, -$00'd8, -$00'db, -$00'de, -$00'e1, -$00'e4, -$00'e7, -$00'ea
		dw -$00'ec, -$00'ee, -$00'f1, -$00'f3, -$00'f4, -$00'f6, -$00'f8, -$00'f9
		dw -$00'fb, -$00'fc, -$00'fd, -$00'fe, -$00'fe, -$00'ff, -$00'ff, -$00'ff
		dw -$01'00, -$00'ff, -$00'ff, -$00'ff, -$00'fe, -$00'fe, -$00'fd, -$00'fc
		dw -$00'fb, -$00'f9, -$00'f8, -$00'f6, -$00'f4, -$00'f3, -$00'f1, -$00'ee
		dw -$00'ec, -$00'ea, -$00'e7, -$00'e4, -$00'e1, -$00'de, -$00'db, -$00'd8
		dw -$00'd4, -$00'd1, -$00'cd, -$00'c9, -$00'c5, -$00'c1, -$00'bd, -$00'b9
		dw -$00'b5, -$00'b0, -$00'ab, -$00'a7, -$00'a2, -$00'9d, -$00'98, -$00'93
		dw -$00'8e, -$00'88, -$00'83, -$00'7e, -$00'78, -$00'73, -$00'6d, -$00'67
		dw -$00'61, -$00'5c, -$00'56, -$00'50, -$00'4a, -$00'44, -$00'3e, -$00'38
		dw -$00'31, -$00'2b, -$00'25, -$00'1f, -$00'19, -$00'12, -$00'0c, -$00'06

		dw $00'00, $00'06, $00'0c, $00'12, $00'19, $00'1f, $00'25, $00'2b
		dw $00'31, $00'38, $00'3e, $00'44, $00'4a, $00'50, $00'56, $00'5c
		dw $00'61, $00'67, $00'6d, $00'73, $00'78, $00'7e, $00'83, $00'88
		dw $00'8e, $00'93, $00'98, $00'9d, $00'a2, $00'a7, $00'ab, $00'b0
		dw $00'b5, $00'b9, $00'bd, $00'c1, $00'c5, $00'c9, $00'cd, $00'd1
		dw $00'd4, $00'd8, $00'db, $00'de, $00'e1, $00'e4, $00'e7, $00'ea
		dw $00'ec, $00'ee, $00'f1, $00'f3, $00'f4, $00'f6, $00'f8, $00'f9
		dw $00'fb, $00'fc, $00'fd, $00'fe, $00'fe, $00'ff, $00'ff, $00'ff
	}

	scope tan: {
		dw $00'00;
		dw $00'06;
		dw $00'0c;
		dw $00'12;
		dw $00'19;
		dw $00'1f;
		dw $00'25;
		dw $00'2c;
		dw $00'32;
		dw $00'39;
		dw $00'40;
		dw $00'46;
		dw $00'4d;
		dw $00'54;
		dw $00'5b;
		dw $00'62;
		dw $00'6a;
		dw $00'71;
		dw $00'79;
		dw $00'80;
		dw $00'88;
		dw $00'91;
		dw $00'99;
		dw $00'a2;
		dw $00'ab;
		dw $00'b4;
		dw $00'bd;
		dw $00'c7;
		dw $00'd2;
		dw $00'dc;
		dw $00'e8;
		dw $00'f3;
		dw $00'ff;
		dw $01'0c;
		dw $01'1a;
		dw $01'28;
		dw $01'37;
		dw $01'48;
		dw $01'59;
		dw $01'6b;
		dw $01'7f;
		dw $01'94;
		dw $01'ab;
		dw $01'c3;
		dw $01'de;
		dw $01'fc;
		dw $02'1d;
		dw $02'41;
		dw $02'6a;
		dw $02'97;
		dw $02'cb;
		dw $03'06;
		dw $03'4b;
		dw $03'9d;
		dw $03'fe;
		dw $04'74;
		dw $05'06;
		dw $05'c3;
		dw $06'bd;
		dw $08'1b;
		dw $0a'27;
		dw $0d'8e;
		dw $14'5a;
		dw $28'bc;
		dw $7f'ff;
		dw $d7'44;
		dw $eb'a6;
		dw $f2'72;
		dw $f5'd9;
		dw $f7'e5;
		dw $f9'43;
		dw $fa'3d;
		dw $fa'fa;
		dw $fb'8c;
		dw $fc'02;
		dw $fc'63;
		dw $fc'b5;
		dw $fc'fa;
		dw $fd'35;
		dw $fd'69;
		dw $fd'96;
		dw $fd'bf;
		dw $fd'e3;
		dw $fe'04;
		dw $fe'22;
		dw $fe'3d;
		dw $fe'55;
		dw $fe'6c;
		dw $fe'81;
		dw $fe'95;
		dw $fe'a7;
		dw $fe'b8;
		dw $fe'c9;
		dw $fe'd8;
		dw $fe'e6;
		dw $fe'f4;
		dw $ff'00;
		dw $ff'0d;
		dw $ff'18;
		dw $ff'24;
		dw $ff'2e;
		dw $ff'39;
		dw $ff'43;
		dw $ff'4c;
		dw $ff'55;
		dw $ff'5e;
		dw $ff'67;
		dw $ff'6f;
		dw $ff'78;
		dw $ff'80;
		dw $ff'87;
		dw $ff'8f;
		dw $ff'96;
		dw $ff'9e;
		dw $ff'a5;
		dw $ff'ac;
		dw $ff'b3;
		dw $ff'ba;
		dw $ff'c0;
		dw $ff'c7;
		dw $ff'ce;
		dw $ff'd4;
		dw $ff'db;
		dw $ff'e1;
		dw $ff'e7;
		dw $ff'ee;
		dw $ff'f4;
		dw $ff'fa;

		dw $00'00;
		dw $00'06;
		dw $00'0c;
		dw $00'12;
		dw $00'19;
		dw $00'1f;
		dw $00'25;
		dw $00'2c;
		dw $00'32;
		dw $00'39;
		dw $00'40;
		dw $00'46;
		dw $00'4d;
		dw $00'54;
		dw $00'5b;
		dw $00'62;
		dw $00'6a;
		dw $00'71;
		dw $00'79;
		dw $00'80;
		dw $00'88;
		dw $00'91;
		dw $00'99;
		dw $00'a2;
		dw $00'ab;
		dw $00'b4;
		dw $00'bd;
		dw $00'c7;
		dw $00'd2;
		dw $00'dc;
		dw $00'e8;
		dw $00'f3;
		dw $00'ff;
		dw $01'0c;
		dw $01'1a;
		dw $01'28;
		dw $01'37;
		dw $01'48;
		dw $01'59;
		dw $01'6b;
		dw $01'7f;
		dw $01'94;
		dw $01'ab;
		dw $01'c3;
		dw $01'de;
		dw $01'fc;
		dw $02'1d;
		dw $02'41;
		dw $02'6a;
		dw $02'97;
		dw $02'cb;
		dw $03'06;
		dw $03'4b;
		dw $03'9d;
		dw $03'fe;
		dw $04'74;
		dw $05'06;
		dw $05'c3;
		dw $06'bd;
		dw $08'1b;
		dw $0a'27;
		dw $0d'8e;
		dw $14'5a;
		dw $28'bc;
		dw $7f'ff;
		dw $d7'44;
		dw $eb'a6;
		dw $f2'72;
		dw $f5'd9;
		dw $f7'e5;
		dw $f9'43;
		dw $fa'3d;
		dw $fa'fa;
		dw $fb'8c;
		dw $fc'02;
		dw $fc'63;
		dw $fc'b5;
		dw $fc'fa;
		dw $fd'35;
		dw $fd'69;
		dw $fd'96;
		dw $fd'bf;
		dw $fd'e3;
		dw $fe'04;
		dw $fe'22;
		dw $fe'3d;
		dw $fe'55;
		dw $fe'6c;
		dw $fe'81;
		dw $fe'95;
		dw $fe'a7;
		dw $fe'b8;
		dw $fe'c9;
		dw $fe'd8;
		dw $fe'e6;
		dw $fe'f4;
		dw $ff'00;
		dw $ff'0d;
		dw $ff'18;
		dw $ff'24;
		dw $ff'2e;
		dw $ff'39;
		dw $ff'43;
		dw $ff'4c;
		dw $ff'55;
		dw $ff'5e;
		dw $ff'67;
		dw $ff'6f;
		dw $ff'78;
		dw $ff'80;
		dw $ff'87;
		dw $ff'8f;
		dw $ff'96;
		dw $ff'9e;
		dw $ff'a5;
		dw $ff'ac;
		dw $ff'b3;
		dw $ff'ba;
		dw $ff'c0;
		dw $ff'c7;
		dw $ff'ce;
		dw $ff'd4;
		dw $ff'db;
		dw $ff'e1;
		dw $ff'e7;
		dw $ff'ee;
		dw $ff'f4;
		dw $ff'fa;
	}

	scope u8sqrt: {
		dw $00'00
		dw $01'00
		dw $01'6a
		dw $01'bb
		dw $02'00
		dw $02'3c
		dw $02'73
		dw $02'a5
		dw $02'd4
		dw $03'00
		dw $03'29
		dw $03'51
		dw $03'76
		dw $03'9b
		dw $03'bd
		dw $03'df
		dw $04'00
		dw $04'1f
		dw $04'3e
		dw $04'5b
		dw $04'78
		dw $04'95
		dw $04'b0
		dw $04'cb
		dw $04'e6
		dw $05'00
		dw $05'19
		dw $05'32
		dw $05'4a
		dw $05'62
		dw $05'7a
		dw $05'91
		dw $05'a8
		dw $05'be
		dw $05'd4
		dw $05'ea
		dw $06'00
		dw $06'15
		dw $06'2a
		dw $06'3e
		dw $06'53
		dw $06'67
		dw $06'7b
		dw $06'8e
		dw $06'a2
		dw $06'b5
		dw $06'c8
		dw $06'db
		dw $06'ed
		dw $07'00
		dw $07'12
		dw $07'24
		dw $07'36
		dw $07'47
		dw $07'59
		dw $07'6a
		dw $07'7b
		dw $07'8c
		dw $07'9d
		dw $07'ae
		dw $07'be
		dw $07'cf
		dw $07'df
		dw $07'ef
		dw $08'00
		dw $08'0f
		dw $08'1f
		dw $08'2f
		dw $08'3f
		dw $08'4e
		dw $08'5d
		dw $08'6d
		dw $08'7c
		dw $08'8b
		dw $08'9a
		dw $08'a9
		dw $08'b7
		dw $08'c6
		dw $08'd4
		dw $08'e3
		dw $08'f1
		dw $09'00
		dw $09'0e
		dw $09'1c
		dw $09'2a
		dw $09'38
		dw $09'46
		dw $09'53
		dw $09'61
		dw $09'6f
		dw $09'7c
		dw $09'8a
		dw $09'97
		dw $09'a4
		dw $09'b2
		dw $09'bf
		dw $09'cc
		dw $09'd9
		dw $09'e6
		dw $09'f3
		dw $0a'00
		dw $0a'0c
		dw $0a'19
		dw $0a'26
		dw $0a'32
		dw $0a'3f
		dw $0a'4b
		dw $0a'58
		dw $0a'64
		dw $0a'70
		dw $0a'7c
		dw $0a'89
		dw $0a'95
		dw $0a'a1
		dw $0a'ad
		dw $0a'b9
		dw $0a'c5
		dw $0a'd1
		dw $0a'dc
		dw $0a'e8
		dw $0a'f4
		dw $0b'00
		dw $0b'0b
		dw $0b'17
		dw $0b'22
		dw $0b'2e
		dw $0b'39
		dw $0b'44
		dw $0b'50
		dw $0b'5b
		dw $0b'66
		dw $0b'72
		dw $0b'7d
		dw $0b'88
		dw $0b'93
		dw $0b'9e
		dw $0b'a9
		dw $0b'b4
		dw $0b'bf
		dw $0b'ca
		dw $0b'd5
		dw $0b'df
		dw $0b'ea
		dw $0b'f5
		dw $0c'00
		dw $0c'0a
		dw $0c'15
		dw $0c'1f
		dw $0c'2a
		dw $0c'34
		dw $0c'3f
		dw $0c'49
		dw $0c'54
		dw $0c'5e
		dw $0c'68
		dw $0c'73
		dw $0c'7d
		dw $0c'87
		dw $0c'91
		dw $0c'9c
		dw $0c'a6
		dw $0c'b0
		dw $0c'ba
		dw $0c'c4
		dw $0c'ce
		dw $0c'd8
		dw $0c'e2
		dw $0c'ec
		dw $0c'f6
		dw $0d'00
		dw $0d'09
		dw $0d'13
		dw $0d'1d
		dw $0d'27
		dw $0d'30
		dw $0d'3a
		dw $0d'44
		dw $0d'4d
		dw $0d'57
		dw $0d'61
		dw $0d'6a
		dw $0d'74
		dw $0d'7d
		dw $0d'87
		dw $0d'90
		dw $0d'99
		dw $0d'a3
		dw $0d'ac
		dw $0d'b6
		dw $0d'bf
		dw $0d'c8
		dw $0d'd1
		dw $0d'db
		dw $0d'e4
		dw $0d'ed
		dw $0d'f6
		dw $0e'00
		dw $0e'09
		dw $0e'12
		dw $0e'1b
		dw $0e'24
		dw $0e'2d
		dw $0e'36
		dw $0e'3f
		dw $0e'48
		dw $0e'51
		dw $0e'5a
		dw $0e'63
		dw $0e'6c
		dw $0e'74
		dw $0e'7d
		dw $0e'86
		dw $0e'8f
		dw $0e'98
		dw $0e'a0
		dw $0e'a9
		dw $0e'b2
		dw $0e'bb
		dw $0e'c3
		dw $0e'cc
		dw $0e'd5
		dw $0e'dd
		dw $0e'e6
		dw $0e'ee
		dw $0e'f7
		dw $0f'00
		dw $0f'08
		dw $0f'11
		dw $0f'19
		dw $0f'21
		dw $0f'2a
		dw $0f'32
		dw $0f'3b
		dw $0f'43
		dw $0f'4c
		dw $0f'54
		dw $0f'5c
		dw $0f'65
		dw $0f'6d
		dw $0f'75
		dw $0f'7d
		dw $0f'86
		dw $0f'8e
		dw $0f'96
		dw $0f'9e
		dw $0f'a7
		dw $0f'af
		dw $0f'b7
		dw $0f'bf
		dw $0f'c7
		dw $0f'cf
		dw $0f'd7
		dw $0f'df
		dw $0f'e7
		dw $0f'ef
		dw $0f'f7
	}

	// consumers must take care never to use 0 as input
	scope u8recipsqrt: {
		dw $10000/4;
		dw $10000/4;
		dw $b504/4;
		dw $93cd/4;
		dw $8000/4;
		dw $727c/4;
		dw $6882/4;
		dw $60c2/4;
		dw $5a82/4;
		dw $5555/4;
		dw $50f4/4;
		dw $4d2f/4;
		dw $49e6/4;
		dw $4700/4;
		dw $446b/4;
		dw $4219/4;
		dw $4000/4;
		dw $3e16/4;
		dw $3c56/4;
		dw $3aba/4;
		dw $393e/4;
		dw $37dd/4;
		dw $3694/4;
		dw $3561/4;
		dw $3441/4;
		dw $3333/4;
		dw $3234/4;
		dw $3144/4;
		dw $3061/4;
		dw $2f89/4;
		dw $2ebd/4;
		dw $2dfa/4;
		dw $2d41/4;
		dw $2c90/4;
		dw $2be7/4;
		dw $2b45/4;
		dw $2aaa/4;
		dw $2a16/4;
		dw $2987/4;
		dw $28fe/4;
		dw $287a/4;
		dw $27fb/4;
		dw $2780/4;
		dw $270a/4;
		dw $2697/4;
		dw $2629/4;
		dw $25be/4;
		dw $2557/4;
		dw $24f3/4;
		dw $2492/4;
		dw $2434/4;
		dw $23d8/4;
		dw $2380/4;
		dw $232a/4;
		dw $22d6/4;
		dw $2284/4;
		dw $2235/4;
		dw $21e8/4;
		dw $219d/4;
		dw $2154/4;
		dw $210c/4;
		dw $20c7/4;
		dw $2083/4;
		dw $2040/4;
		dw $2000/4;
		dw $1fc0/4;
		dw $1f82/4;
		dw $1f46/4;
		dw $1f0b/4;
		dw $1ed1/4;
		dw $1e99/4;
		dw $1e61/4;
		dw $1e2b/4;
		dw $1df6/4;
		dw $1dc2/4;
		dw $1d8f/4;
		dw $1d5d/4;
		dw $1d2c/4;
		dw $1cfc/4;
		dw $1ccd/4;
		dw $1c9f/4;
		dw $1c71/4;
		dw $1c45/4;
		dw $1c19/4;
		dw $1bee/4;
		dw $1bc4/4;
		dw $1b9a/4;
		dw $1b72/4;
		dw $1b4a/4;
		dw $1b22/4;
		dw $1afc/4;
		dw $1ad6/4;
		dw $1ab0/4;
		dw $1a8b/4;
		dw $1a67/4;
		dw $1a43/4;
		dw $1a20/4;
		dw $19fe/4;
		dw $19dc/4;
		dw $19ba/4;
		dw $1999/4;
		dw $1979/4;
		dw $1959/4;
		dw $1939/4;
		dw $191a/4;
		dw $18fb/4;
		dw $18dd/4;
		dw $18bf/4;
		dw $18a2/4;
		dw $1885/4;
		dw $1868/4;
		dw $184c/4;
		dw $1830/4;
		dw $1815/4;
		dw $17fa/4;
		dw $17df/4;
		dw $17c4/4;
		dw $17aa/4;
		dw $1791/4;
		dw $1777/4;
		dw $175e/4;
		dw $1745/4;
		dw $172d/4;
		dw $1715/4;
		dw $16fd/4;
		dw $16e5/4;
		dw $16ce/4;
		dw $16b7/4;
		dw $16a0/4;
		dw $168a/4;
		dw $1673/4;
		dw $165d/4;
		dw $1648/4;
		dw $1632/4;
		dw $161d/4;
		dw $1608/4;
		dw $15f3/4;
		dw $15df/4;
		dw $15ca/4;
		dw $15b6/4;
		dw $15a2/4;
		dw $158f/4;
		dw $157b/4;
		dw $1568/4;
		dw $1555/4;
		dw $1542/4;
		dw $152f/4;
		dw $151d/4;
		dw $150b/4;
		dw $14f8/4;
		dw $14e6/4;
		dw $14d5/4;
		dw $14c3/4;
		dw $14b2/4;
		dw $14a1/4;
		dw $148f/4;
		dw $147f/4;
		dw $146e/4;
		dw $145d/4;
		dw $144d/4;
		dw $143d/4;
		dw $142c/4;
		dw $141c/4;
		dw $140d/4;
		dw $13fd/4;
		dw $13ed/4;
		dw $13de/4;
		dw $13cf/4;
		dw $13c0/4;
		dw $13b1/4;
		dw $13a2/4;
		dw $1393/4;
		dw $1385/4;
		dw $1376/4;
		dw $1368/4;
		dw $135a/4;
		dw $134b/4;
		dw $133d/4;
		dw $1330/4;
		dw $1322/4;
		dw $1314/4;
		dw $1307/4;
		dw $12f9/4;
		dw $12ec/4;
		dw $12df/4;
		dw $12d2/4;
		dw $12c5/4;
		dw $12b8/4;
		dw $12ab/4;
		dw $129f/4;
		dw $1292/4;
		dw $1286/4;
		dw $1279/4;
		dw $126d/4;
		dw $1261/4;
		dw $1255/4;
		dw $1249/4;
		dw $123d/4;
		dw $1231/4;
		dw $1225/4;
		dw $121a/4;
		dw $120e/4;
		dw $1203/4;
		dw $11f7/4;
		dw $11ec/4;
		dw $11e1/4;
		dw $11d6/4;
		dw $11cb/4;
		dw $11c0/4;
		dw $11b5/4;
		dw $11aa/4;
		dw $119f/4;
		dw $1195/4;
		dw $118a/4;
		dw $117f/4;
		dw $1175/4;
		dw $116b/4;
		dw $1160/4;
		dw $1156/4;
		dw $114c/4;
		dw $1142/4;
		dw $1138/4;
		dw $112e/4;
		dw $1124/4;
		dw $111a/4;
		dw $1111/4;
		dw $1107/4;
		dw $10fd/4;
		dw $10f4/4;
		dw $10ea/4;
		dw $10e1/4;
		dw $10d7/4;
		dw $10ce/4;
		dw $10c5/4;
		dw $10bc/4;
		dw $10b3/4;
		dw $10aa/4;
		dw $10a1/4;
		dw $1098/4;
		dw $108f/4;
		dw $1086/4;
		dw $107d/4;
		dw $1074/4;
		dw $106c/4;
		dw $1063/4;
		dw $105a/4;
		dw $1052/4;
		dw $1049/4;
		dw $1041/4;
		dw $1039/4;
		dw $1030/4;
		dw $1028/4;
		dw $1020/4;
		dw $1018/4;
		dw $1010/4;
		dw $1008/4;
	}
}
